Upgrade SmartMeal Planner to support full meal categories integrated across the entire system.

Use existing stack:
Node.js, Express, SQLite, HTML, CSS, vanilla JavaScript.

Do not break existing functionality.

---

## PART 1 â€” Create meal_categories table

Create new table:

meal_categories:

* id INTEGER PRIMARY KEY
* name TEXT UNIQUE

Insert default categories:

Breakfast
Lunch
Dinner
Snack
Smoothie
Dessert
Drink
Immune Boost
Supplement

---

## PART 2 â€” Update meals table

Add column:

category_id INTEGER

Foreign key to meal_categories.id

---

## PART 3 â€” Update meal creation form

When creating or importing a meal, add dropdown:

Category:

Breakfast
Lunch
Dinner
Snack
Smoothie
Dessert
Drink

Save selected category_id to meals table.

---

## PART 4 â€” Display category on meal cards

Show category label on each meal card.

Example:

ğŸ¥— Tuna Pasta
Category: Lunch

---

## PART 5 â€” Add category filtering

On meals page, add filter dropdown:

All
Breakfast
Lunch
Dinner
Snack
Smoothie

When selected, show only meals in that category.

---

## PART 6 â€” Weekly planner integration

Weekly planner should group meals by category.

Example display:

Monday:
Breakfast: Smoothie Bowl
Lunch: Chickpea Salad
Dinner: Stir Fry

---

## PART 7 â€” Automatic planner improvements

When generating weekly meal plan, select meals in balanced proportions:

Example:

7 Breakfast meals
7 Lunch meals
7 Dinner meals
3 Snacks

---

## PART 8 â€” Search improvements

Allow filtering search results by category.

Example:

Search: tuna

Filters:
â˜‘ Lunch
â˜‘ Dinner

---

## PART 9 â€” Snacks and smoothies support

Ensure Snack and Smoothie categories work fully with:

shopping list
nutrition calculation
meal planner

---

## PART 10 â€” UI improvements

Show category icons:

Breakfast: ğŸ³
Lunch: ğŸ¥—
Dinner: ğŸ½ï¸
Snack: ğŸ
Smoothie: ğŸ¥¤
Dessert: ğŸ°

---

## PART 11 â€” Database relationships

Ensure relationships:

meals.category_id â†’ meal_categories.id

---

## PART 12 â€” Files to update

/db/database.js
/routes/meals.js
/views/meals.html
/views/meal-details.html
/views/meal-planner.html

---

## PART 13 â€” Backwards compatibility

Existing meals without category should default to:

Dinner

---

## PART 14 â€” Explanation

Explain:

How categories are stored
How filtering works
How planner uses categories
How to add new categories later
